# Use the official FRRouting image
FROM frrouting/frr:latest

# Copy FRR config files into the container
# COPY frr.conf /etc/frr/frr.conf # Uncomment and provide your own config if needed
COPY daemons /etc/frr/daemons

# Set permissions (FRR runs as user frr)
# RUN chown frr:frr /etc/frr/frr.conf /etc/frr/daemons
# Ensure correct permissions
RUN chown frr:frr /etc/frr && chmod 755 /etc/frr

# Expose ports (BGP, OSPF, etc.) if needed
# EXPOSE 179 2601 2604 2605 2608

# Start FRR and keep container alive for console access
# CMD ["/bin/sh", "-c", "/usr/lib/frr/frrinit.sh start && exec /bin/sh"]