# BADASS 

## Part 3: Discovering BGP with EVPN.

Now that you have mastered the basic principles of VXLAN, we will go a little further and
explore the principles of the BGP EVPN (RFC 7432) without using MPLS to simplify the
process. The controller will learn the MAC addresses automatically. We will use our
VXLAN with ID 10, as seen in the previous part.
As in the second part we start with the topology of the expected network. We will
use the principle of route reflection (=RR). Our leaves (VTEP) will be configured to
have dynamic relationships.
This diagram represents a small data center.
For the sake of readability the names are shorter here.
have to use OSPF to simplify the evaluation.
We can see our visibility from our VTEP _wil-4 the 3 VTEPs 1.1.[1.4]


We have only one route for the moment with our controller (RR):

When there is no host running we can see our VNI (10 here) as well as our pre-
configured routes (type 3). No route type 2 seems to exist and it is quite normal.

A machine host_wil-1 is now functional. We can notice that without assigning an
IP address our VTEP (wil_2) automatically discovers the MAC address of the functional
machines.
We can also see the automatic creation of a route type 2:
In the same way, when we look at a second VTEP(_wil-4), we can notice the creation
of a new route type 2 generated by our RR:

We repeat the operation with a second machine (host_wil-3). We can notice the
second route set up by type 2. There is no assignment of IP address:
For our verification a simple ping allows us to see that we can access all the machines
through our RR using the VTEPs. We can see the VXLAN configured to 10 as well as our
packets ICMP. We also see packets OSPF configured:

You must render this project in a P3 folder at the root of your git repository. You
should also add the configuration files with comments to explain the set up of each equip-
ment.
You must export this project with a ZIP compression including the
image bases. This file must be visible in your git repository.
You must use correct and consistent names for your equipment here
with the login of one of the group members.
